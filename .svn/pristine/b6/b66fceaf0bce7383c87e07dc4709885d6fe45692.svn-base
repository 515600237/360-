webpackJsonp([2],{"4ml/":function(t,n){},ExmW:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("7+uW"),o={name:"AssessHeader",props:{closed:Boolean},data:function(){return{}},create:function(){},methods:{onClickLeft:function(){console.log(this.$route),"AssessContent"==this.$route.name?this.webApp.WebCallApp("CmdGoBack",{},function(t){}):this.$router.go(-1)}}},i={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"header"},[this.closed?n("van-nav-bar",{attrs:{title:"360评估","left-arrow":"",fixed:""},on:{"click-left":this.onClickLeft}}):this._e(),this._v(" "),this.closed?this._e():n("van-nav-bar",{attrs:{title:"360评估",fixed:""},on:{"click-left":this.onClickLeft}})],1)},staticRenderFns:[]};var a={name:"App",components:{AssessHeader:e("VU/8")(o,i,!1,function(t){e("NQau")},"data-v-7cd6e38a",null).exports},data:function(){return{closed:!1}},methods:{back:function(){console.log(this.$route),"AssessContent"==this.$route.name?this.webApp.WebCallApp("CmdGoBack",{},function(t){}):this.$router.go(-1)}},created:function(){console.log(this.WebBack,"1111111"),this.WebBack.push(this.back),window.location.href="http://192.168.8.209:8400?humanId=9ac54d39117e4901a1b9dfdc8c0c6827",console.log(url);for(var t={},n=url.substring(url.indexOf("?")+1).split("&"),e=0;e<n.length;e++){var s=n[e].indexOf("="),o=n[e].substring(0,s),i=n[e].substring(s+1);t[o]=i}t.humanId||t.instituteId||this.$toast("无权限"),this.Global.staticData.humanId=t.humanId,this.Global.staticData.instituteId=t.instituteId,this.Global.staticData.onlyYou=t.onlyYou,null!=this.Global.staticData.onlyYou&&1==this.Global.staticData.onlyYou?this.closed=!0:this.closed=!1}},r={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("AssessHeader",{attrs:{closed:this.closed}}),this._v(" "),n("router-view")],1)},staticRenderFns:[]};var c=e("VU/8")(a,r,!1,function(t){e("ExmW")},null,null).exports,l=e("/ocq");e("hzlE");s.a.use(l.a);var u=new l.a({routes:[{path:"/",redirect:"/AssessContent"},{path:"/AssessContent",name:"AssessContent",component:function(t){return e.e(0).then(function(){var n=[e("3at0")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/Answer",name:"Answer",component:function(t){return new Promise(function(t){t()}).then(function(){var n=[e("hzlE")];t.apply(null,n)}.bind(this)).catch(e.oe)}}]}),d=(e("RVp4"),e("lSy/"),e("Fd2+")),h=(e("4ml/"),e("sVYa"),e("mtWM")),f=e.n(h),p={staticData:{humanId:"",instituteId:"",onlyYou:0}},m=e("VU/8")(p,null,!1,null,null,null).exports,v=e("mvHQ"),g=e.n(v),b={APPCommendBack:function(){C.length>0?"function"==typeof C[C.length-1]&&C[C.length-1].call(window):this.isInApp()?this.isEmptyObject(w)&&this.WebCallApp("CmdGoBack"):history.back(-1)},WebCallApp:function(t,n,e,s){if(void 0!==Elf.AppCallWeb){s=s||window,n=n||{};var o=null;o="callCamera"==t?"examCamera":this.getSerialNumber();var i={args:n,command:t};e&&(w[o]={callback:e,context:s}),window.webkit&&window.webkit.messageHandlers?(i.sn=o,window.webkit.messageHandlers.WebCallApp.postMessage(g()(i))):Elf.WebCallApp?(i.sn=o,Elf.WebCallApp(g()(i))):this.isInCef()&&(i.sn=o,Elf.WebCallCef(g()(i)))}},AppCommendTostInfo:function(t){t.msg&&Object(d.a)(t.msg)},isInApp:function(){if(void 0!==Elf.AppCallWeb)return!!(window.webkit&&window.webkit.messageHandlers||"function"==typeof Elf.WebCallApp||"function"==typeof Elf.WebCallCef)},isInIOS:function(){return window.webkit&&window.webkit.messageHandlers},isInAndroid:function(){if(void 0!==Elf.AppCallWeb)return"function"==typeof Elf.WebCallApp},isInCef:function(){if(void 0!==Elf.AppCallWeb)return"function"==typeof Elf.WebCallCef},isEmptyObject:function(){var t=void 0;for(t in obj)return!1;return!0},UUID:function(t,n){var e,s,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(n=n||o.length,t)for(e=0;e<t;e++)i[e]=o[0|Math.random()*n];else for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",e=0;e<36;e++)i[e]||(s=0|16*Math.random(),i[e]=o[19==e?3&s|8:s]);return i.join("")},getSerialNumber:function(){var t=this.UUID(3,8);return(new Date).format("yyyyMMddhhmmssS")+t}};!function(){if(window.applicationCache||"undefined"!=typeof Worker){var t=window;"undefined"==typeof Elf&&(t.Elf={}),Elf.global=t}else alert("E001-检测到您的环境不支持HTML5，程序终止运行！")}(),Date.prototype.format=function(t){var n={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[e]:("00"+n[e]).substr((""+n[e]).length)));return t};var w={},C=[],y=[],I=[],A=[],E=[],k=[],_=[],x=[],M=[],$=[],W=[],q={MsgUpdateBookState:function(t){y.length>0&&y.forEach(function(n){n.call(window,t)})},MsgSoftKeyboardBounceUp:function(t){W.length>0&&W.forEach(function(n){n.call(window,t)})},MsgRefresh:function(t){I.length>0&&I.forEach(function(n){n.call(window,t)})},MsgAddToObtainedBook:function(t){E.length>0&&E.forEach(function(n){n.call(window,t)})},MsgAddToBookShelf:function(t){A.length>0&&A.forEach(function(n){n.call(window,t)})},MsgGoBack:function(t){b.APPCommendBack(t)},MsgReBack:function(){var t=this;k&&k.length>0&&k.forEach(function(n){n.call(t)})},MsgToastInfo:function(t){b.AppCommendTostInfo(t)},MsgNetworkState:function(t){var n=this;_&&_.length>0&&_.forEach(function(e){e.call(n,t)})},MsgAppStarting:function(t){var n=this;x&&x.length>0&&x.forEach(function(e){e.call(n,t)})},MsgAppReactivate:function(t){var n=this;M&&M.length>0&&M.forEach(function(e){e.call(n,t)})},MsgAppScreenShots:function(t){var n=this;$&&$.length>0&&$.forEach(function(e){e.call(n,t)})}};"undefined"!=typeof Elf&&(Elf.AppCallWeb=function(t,n){if(n&&"string"==typeof n){n=decodeURIComponent(n.replace(/\+/g,"%20"));try{n=JSON.parse(n)}catch(e){return void w[t].callback.call(w[t].context,n)}if(n.sn)return void w[t].callback.call(w[t].context,n.QrCode)}w[t]?(JSON.parse(n.opFlag)?w[t].callback.call(w[t].context,"string"==typeof n.serviceResult?JSON.parse(n.serviceResult):n.serviceResult):Toast(n.errorMessage?n.errorMessage:"服务器异常！"),delete w[t]):q[t]&&"function"==typeof q[t]&&q[t].call(window,n)}),s.a.config.productionTip=!1,s.a.use(d.b),s.a.prototype.$http=f.a,s.a.prototype.Global=m,s.a.prototype.webApp=b,s.a.prototype.WebBack=C,s.a.prototype.Keyboar=W,new s.a({el:"#app",router:u,components:{App:c},template:"<App/>"})},NQau:function(t,n){},RVp4:function(t,n){},hzlE:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={name:"Answer",data:function(){return{radio:0,count:0,normId:0,disabled:"false",questionList:[],matchId:0,termId:0,remnant:0,index:0}},methods:{descArea:function(t){if(console.log(t),t.content1&&t.content1.length){var n=t.content1.length;this.remnant=n}},answerQuestion:function(t,n){var e=this;this.$http({method:"post",url:"/test/app/eval/questions",data:{normId:t,caId:this.Global.staticData.humanId,termId:n}}).then(function(t){0==t.data.code?e.sucess(t):e.$toast(t.msg)})},sucess:function(t){console.log(t),this.questionList=t.data.body},submitQuestion:function(){var t=[];console.log(this.questionList),this.questionList.forEach(function(n){var e={questionId:n.id,content:n.content1,optionId:n.optionId};t.push(e)});var n={matchId:this.matchId,createrId:this.Global.staticData.humanId,termId:this.termId,normId:this.normId,detailList:t},e=this.questionList[this.count];if(1!=e.type||"number"==typeof e.optionId){var s=this.questionList[this.count];2!=s.type||s.content1?this.postSubmit(n):this.$toast("请输入内容")}else this.$toast("请选择")},postSubmit:function(t){var n=this;this.$http({method:"post",url:"/test/base/answer/save",data:t}).then(function(t){n.$toast({duration:600,message:"提交成功"}),setTimeout(function(){n.$router.push({name:"AssessContent"})},1200)})},onChange:function(t){this.count=t,this.$refs.swipe.swipeTo(t)},AnswerPrev:function(){this.count--,this.onChange(this.count)},AnswerNext:function(){var t=this.questionList[this.count];if(console.log(t),2!=t.type||t.content1){var n=this.questionList[this.count];1!=n.type||"number"==typeof n.optionId?(this.count++,this.count<this.questionList.length&&this.onChange(this.count)):this.$toast("请选择")}else this.$toast("请输入内容")}},mounted:function(){this.normId=this.$route.query.normId,this.matchId=this.$route.query.id,this.termId=this.$route.query.termId,this.answerQuestion(this.normId,this.termId)}},o={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"answer"},[e("div",{ref:"QueSwipe",staticClass:"answer-switch"},[e("van-swipe",{ref:"swipe",attrs:{loop:!1,touchable:!1,"show-indicators":!1}},t._l(t.questionList,function(n,s){return e("van-swipe-item",{key:s,on:{change:function(n){return t.onChange(s)}}},[e("div",{staticClass:"answer-content"},[e("div",{staticClass:"answer-header"},[e("p",[e("span",[t._v(t._s(s+1))]),t._v("."+t._s(n.content))])]),t._v(" "),1==n.type?e("div",{staticClass:"amswer-middle"},[e("van-radio-group",{model:{value:n.optionId,callback:function(e){t.$set(n,"optionId",e)},expression:"item.optionId"}},t._l(n.questionOptionList,function(n,s){return e("van-radio",{key:s,attrs:{name:n.id}},[t._v(t._s(n.content)+"\n                                ")])}),1)],1):t._e(),t._v(" "),2==n.type?e("div",{staticClass:"amswer-middle"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.content1,expression:"item.content1"}],staticClass:"text",attrs:{maxlength:"180"},domProps:{value:n.content1},on:{input:[function(e){e.target.composing||t.$set(n,"content1",e.target.value)},function(e){return t.descArea(n)}]}}),t._v(" "),e("p",{staticClass:"pay-service-textarea-text"},[e("span",[t._v(t._s(t.remnant))]),t._v("/180")])]):t._e()])])}),1)],1),t._v(" "),e("div",{staticClass:"answer-bottom"},[e("button",{staticClass:"btn",class:{disable:0==t.count},attrs:{disabled:0==t.count},on:{click:t.AnswerPrev}},[t._v("上一题")]),t._v(" "),t.count<t.questionList.length-1?e("button",{staticClass:"btn endAnswer",on:{click:function(n){return t.AnswerNext()}}},[t._v("下一题")]):t._e(),t._v(" "),t.count==t.questionList.length-1?e("button",{staticClass:"btn submit",on:{click:function(n){return t.submitQuestion()}}},[t._v("提交")]):t._e()])])},staticRenderFns:[]};var i=e("VU/8")(s,o,!1,function(t){e("yqeU")},"data-v-2d5737c9",null);n.default=i.exports},"lSy/":function(t,n){},yqeU:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.1ad1177c7f8c1e65fd47.js.map