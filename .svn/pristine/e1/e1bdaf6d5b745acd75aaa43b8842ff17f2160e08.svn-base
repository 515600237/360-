webpackJsonp([2],{"4ml/":function(t,n){},"9N2i":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("7+uW"),i={name:"AssessHeader",props:{closed:Boolean},data:function(){return{}},create:function(){},methods:{onClickLeft:function(){this.$router.push({name:"AssessContent"})}}},o={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"header"},[this.closed?n("van-nav-bar",{attrs:{title:"360评估","left-arrow":"",fixed:""},on:{"click-left":this.onClickLeft}}):this._e(),this._v(" "),this.closed?this._e():n("van-nav-bar",{attrs:{title:"360评估",fixed:""},on:{"click-left":this.onClickLeft}})],1)},staticRenderFns:[]};var a={name:"App",components:{AssessHeader:e("VU/8")(i,o,!1,function(t){e("9N2i")},"data-v-1f59515c",null).exports},data:function(){return{closed:!0}},created:function(){for(var t=window.location.href,n={},e=t.substring(t.indexOf("?")+1).split("&"),s=0;s<e.length;s++){var i=e[s].indexOf("="),o=e[s].substring(0,i),a=e[s].substring(i+1);n[o]=a}n.humanId||n.instituteId||this.$toast("无权限"),this.Global.staticData.humanId=n.humanId,this.Global.staticData.instituteId=n.instituteId,this.Global.staticData.onlyYou=n.onlyYou,null!=this.Global.staticData.onlyYou&&1==this.Global.staticData.onlyYou?this.closed=!1:this.closed=!0}},r={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("AssessHeader",{attrs:{closed:this.closed}}),this._v(" "),n("router-view")],1)},staticRenderFns:[]};var u=e("VU/8")(a,r,!1,function(t){e("spib")},null,null).exports,c=e("/ocq");e("hzlE");s.a.use(c.a);var l=new c.a({routes:[{path:"/",redirect:"/AssessContent"},{path:"/AssessContent",name:"AssessContent",component:function(t){return e.e(0).then(function(){var n=[e("3at0")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/Answer",name:"Answer",component:function(t){return new Promise(function(t){t()}).then(function(){var n=[e("hzlE")];t.apply(null,n)}.bind(this)).catch(e.oe)}}]}),d=(e("RVp4"),e("lSy/"),e("Fd2+")),h=(e("4ml/"),e("sVYa"),e("mtWM")),p=e.n(h),m={staticData:{humanId:"",instituteId:"",onlyYou:0}},f=e("VU/8")(m,null,!1,null,null,null).exports;s.a.config.productionTip=!1,s.a.use(d.a),s.a.prototype.$http=p.a,s.a.prototype.Global=f,new s.a({el:"#app",router:l,components:{App:u},template:"<App/>"})},RVp4:function(t,n){},hzlE:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={name:"Answer",data:function(){return{radio:0,count:0,normId:0,disabled:"false",questionList:[],matchId:0,termId:0,remnant:0,index:0}},methods:{descArea:function(t){var n=t.content1.length;this.remnant=n},answerQuestion:function(t){var n=this;this.$http({method:"post",url:"/test/app/eval/questions",data:{normId:t,caId:this.Global.staticData.humanId}}).then(function(t){n.sucess(t)})},sucess:function(t){console.log(t),this.questionList=t.data.body},submitQuestion:function(){var t=[];console.log(this.questionList),this.questionList.forEach(function(n){var e={questionId:n.id,content:n.content1,optionId:n.optionId};t.push(e)});var n={matchId:this.matchId,createrId:this.Global.staticData.humanId,termId:this.termId,normId:this.normId,detailList:t},e=this.questionList[this.count];1!=e.type||"number"==typeof e.optionId?this.postSubmit(n):this.$toast("请选择")},postSubmit:function(t){var n=this;this.$http({method:"post",url:"/test/base/answer/save",data:t}).then(function(t){n.$toast({duration:600,message:"提交成功"}),setTimeout(function(){n.$router.push({name:"AssessContent"})},1200)})},onChange:function(t){this.count=t,this.$refs.swipe.swipeTo(t)},AnswerPrev:function(){this.count--,this.onChange(this.count)},AnswerNext:function(){var t=this.questionList[this.count];if(console.log(t),2!=t.type||t.content1){var n=this.questionList[this.count];1!=n.type||"number"==typeof n.optionId?(this.count++,this.count<this.questionList.length&&this.onChange(this.count)):this.$toast("请选择")}else this.$toast("请输入内容")}},mounted:function(){this.normId=this.$route.query.normId,this.matchId=this.$route.query.id,this.termId=this.$route.query.termId,this.answerQuestion(this.normId)}},i={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"answer"},[e("div",{ref:"QueSwipe",staticClass:"answer-switch"},[e("van-swipe",{ref:"swipe",attrs:{loop:!1,touchable:!1,"show-indicators":!1}},t._l(t.questionList,function(n,s){return e("van-swipe-item",{key:s,on:{change:function(n){return t.onChange(s)}}},[e("div",{staticClass:"answer-content"},[e("div",{staticClass:"answer-header"},[e("p",[e("span",[t._v(t._s(s+1))]),t._v("."+t._s(n.content))])]),t._v(" "),1==n.type?e("div",{staticClass:"amswer-middle"},[e("van-radio-group",{model:{value:n.optionId,callback:function(e){t.$set(n,"optionId",e)},expression:"item.optionId"}},t._l(n.questionOptionList,function(n,s){return e("van-radio",{key:s,attrs:{name:n.id}},[t._v(t._s(n.content)+"\n                ")])}),1)],1):t._e(),t._v(" "),2==n.type?e("div",{staticClass:"amswer-middle"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.content1,expression:"item.content1"}],staticClass:"text",attrs:{maxlength:"180"},domProps:{value:n.content1},on:{input:[function(e){e.target.composing||t.$set(n,"content1",e.target.value)},function(e){return t.descArea(n)}]}}),t._v(" "),e("p",{staticClass:"pay-service-textarea-text"},[e("span",[t._v(t._s(t.remnant))]),t._v("/180")])]):t._e()])])}),1)],1),t._v(" "),e("div",{staticClass:"answer-bottom"},[e("button",{staticClass:"btn",class:{disable:0==t.count},attrs:{disabled:0==t.count},on:{click:t.AnswerPrev}},[t._v("上一题")]),t._v(" "),t.count<t.questionList.length-1?e("button",{staticClass:"btn endAnswer",on:{click:function(n){return t.AnswerNext()}}},[t._v("下一题")]):t._e(),t._v(" "),t.count==t.questionList.length-1?e("button",{staticClass:"btn submit",on:{click:function(n){return t.submitQuestion()}}},[t._v("提交")]):t._e()])])},staticRenderFns:[]};var o=e("VU/8")(s,i,!1,function(t){e("idUv")},"data-v-58704126",null);n.default=o.exports},idUv:function(t,n){},"lSy/":function(t,n){},spib:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.68f14d169f4255d5164e.js.map